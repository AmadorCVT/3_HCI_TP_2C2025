<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/listi/ui/screens/auth/RegisterScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/listi/ui/screens/auth/RegisterScreen.kt" />
              <option name="originalContent" value="package com.example.listi.ui.screens.auth&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;import androidx.compose.ui.platform.LocalConfiguration&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.res.vectorResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.unit.dp&#10;import com.example.listi.R&#10;@Composable&#10;fun RegisterScreen(authViewModel: AuthViewModel,&#10;                   goLogin: (() -&gt; Unit)? = null,&#10;                   goVerifyAccount: (() -&gt; Unit)? = null) {&#10;&#10;    val viewModel = authViewModel&#10;&#10;    val snackbarHostState = remember { SnackbarHostState() }&#10;    val scope = rememberCoroutineScope()&#10;&#10;    var firstName by remember { mutableStateOf(&quot;&quot;) }&#10;    var lastName by remember { mutableStateOf(&quot;&quot;) }&#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var repeatPassword by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    val showVerification by authViewModel.showVerification.collectAsState()&#10;&#10;    LaunchedEffect(showVerification) {&#10;        if (showVerification) {&#10;            if (goLogin != null) {&#10;                goLogin()&#10;            }&#10;        }&#10;    }&#10;&#10;    val configuration = LocalConfiguration.current&#10;&#10;    val isLoading by authViewModel.isLoading.collectAsState()&#10;&#10;    val errorMessage by authViewModel.errorMessage.collectAsState()&#10;    val connectionError = stringResource(R.string.error_connection)&#10;    val credentialsError = stringResource(R.string.error_credentials_invalid)&#10;    val codeError = stringResource(R.string.error_could_not_resend)&#10;    val mailError = stringResource(R.string.mail_already_registered)&#10;&#10;    LaunchedEffect(errorMessage) {&#10;        errorMessage?.let { error -&gt;&#10;            val message = when (error) {&#10;                &quot;1&quot; -&gt; credentialsError&#10;                &quot;400&quot; -&gt; credentialsError&#10;                &quot;401&quot; -&gt; credentialsError&#10;                &quot;409&quot; -&gt; mailError&#10;                &quot;2&quot; -&gt; codeError&#10;                else -&gt; connectionError&#10;            }&#10;&#10;            snackbarHostState.showSnackbar(message)&#10;&#10;            authViewModel.clearError()&#10;        }&#10;    }&#10;&#10;    Scaffold(&#10;        modifier = Modifier.fillMaxSize(),&#10;        snackbarHost = { SnackbarHost(hostState = snackbarHostState) }&#10;    ) { innerPadding -&gt;&#10;        Box(modifier = Modifier.padding(innerPadding)) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(horizontal = 32.dp, vertical = 24.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.Center&#10;            ) {&#10;&#10;                Text(&#10;                    text = &quot;Listi&quot;,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                Text(&#10;                    text = stringResource(R.string.register),&#10;                    style = MaterialTheme.typography.bodyLarge,&#10;                    modifier = Modifier.padding(bottom = 32.dp)&#10;                )&#10;&#10;                OutlinedTextField(&#10;                    value = firstName,&#10;                    onValueChange = { firstName = it },&#10;                    label = { Text(stringResource(R.string.name)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = ImageVector.vectorResource(R.drawable.person_foreground),&#10;                            contentDescription = &quot;Nombre&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Text),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = lastName,&#10;                    onValueChange = { lastName = it },&#10;                    label = { Text(stringResource(R.string.profile_surname_label)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            ImageVector.vectorResource(R.drawable.badge),&#10;                            contentDescription = &quot;Apellido&quot;&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Text),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = email,&#10;                    onValueChange = { email = it },&#10;                    label = { Text(&quot;Email&quot;) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = ImageVector.vectorResource(R.drawable.mail_foreground),&#10;                            contentDescription = &quot;Email&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Email),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = password,&#10;                    onValueChange = { password = it },&#10;                    label = { Text(stringResource(R.string.password)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = ImageVector.vectorResource(R.drawable.lock_foreground),&#10;                            contentDescription = &quot;Con&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    },&#10;                    visualTransformation = PasswordVisualTransformation(),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = repeatPassword,&#10;                    onValueChange = { repeatPassword = it },&#10;                    label = { Text(stringResource(R.string.profile_confirm_password)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            ImageVector.vectorResource(R.drawable.lock_reset),&#10;                            contentDescription = &quot;Repetir contraseña&quot;&#10;                        )&#10;                    },&#10;                    visualTransformation = PasswordVisualTransformation(),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(24.dp))&#10;&#10;                // Notificar que las que son invalidas&#10;                if(password != repeatPassword)&#10;                    Text(&#10;                        text = stringResource(R.string.same_password),&#10;                        color = MaterialTheme.colorScheme.error,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                else if(password.length &lt; 6)&#10;                    Text(&#10;                        text = stringResource(R.string.password_length),&#10;                        color = MaterialTheme.colorScheme.error,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;&#10;                val isCreateEnabled =&#10;                    firstName.isNotBlank() &amp;&amp; lastName.isNotBlank() &amp;&amp; email.isNotBlank() &amp;&amp; password.isNotBlank() &amp;&amp; (password == repeatPassword)&#10;&#10;                Button(&#10;                    onClick = {&#10;                        if (isCreateEnabled) {&#10;                            viewModel.register(firstName, lastName, email, password)&#10;                        }&#10;                    },&#10;                    enabled = isCreateEnabled,&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = if (isCreateEnabled) MaterialTheme.colorScheme.tertiaryFixed else MaterialTheme.colorScheme.primary,&#10;                        contentColor = if (isCreateEnabled) MaterialTheme.colorScheme.onSecondary else MaterialTheme.colorScheme.primary&#10;                    ),&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(50.dp),&#10;                    shape = MaterialTheme.shapes.medium&#10;                ) {&#10;                    if (isLoading) {&#10;                        Box(&#10;                            Modifier.fillMaxSize(),&#10;                            Alignment.Center&#10;                        ) { CircularProgressIndicator() }&#10;                    } else {&#10;                        Text(&#10;                            text = stringResource(R.string.signin),&#10;                            color = if (isCreateEnabled) MaterialTheme.colorScheme.onPrimary else MaterialTheme.colorScheme.onSurface,&#10;                            style = MaterialTheme.typography.bodyLarge,&#10;                            fontWeight = FontWeight.SemiBold&#10;                        )&#10;                    }&#10;                }&#10;&#10;                TextButton(onClick = { goLogin?.invoke() }) {&#10;                    Text(&#10;                        text = stringResource(R.string.got_an_acount),&#10;                        color = MaterialTheme.colorScheme.surfaceVariant,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                TextButton(onClick = { goVerifyAccount?.invoke() }) {&#10;                    Text(&#10;                        text = stringResource(R.string.verify),&#10;                        color = MaterialTheme.colorScheme.surfaceVariant,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.listi.ui.screens.auth&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.vector.ImageVector&#10;import androidx.compose.ui.platform.LocalConfiguration&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.compose.ui.res.vectorResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.unit.dp&#10;import com.example.listi.R&#10;@Composable&#10;fun RegisterScreen(authViewModel: AuthViewModel,&#10;                   goLogin: (() -&gt; Unit)? = null,&#10;                   goVerifyAccount: (() -&gt; Unit)? = null) {&#10;&#10;    val viewModel = authViewModel&#10;&#10;    val snackbarHostState = remember { SnackbarHostState() }&#10;    val scope = rememberCoroutineScope()&#10;&#10;    var firstName by remember { mutableStateOf(&quot;&quot;) }&#10;    var lastName by remember { mutableStateOf(&quot;&quot;) }&#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var repeatPassword by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    val showVerification by authViewModel.showVerification.collectAsState()&#10;&#10;    LaunchedEffect(showVerification) {&#10;        if (showVerification) {&#10;            if (goLogin != null) {&#10;                goLogin()&#10;            }&#10;        }&#10;    }&#10;&#10;    val configuration = LocalConfiguration.current&#10;&#10;    val isLoading by authViewModel.isLoading.collectAsState()&#10;&#10;    val errorMessage by authViewModel.errorMessage.collectAsState()&#10;    val connectionError = stringResource(R.string.error_connection)&#10;    val credentialsError = stringResource(R.string.error_credentials_invalid)&#10;    val codeError = stringResource(R.string.error_could_not_resend)&#10;    val mailError = stringResource(R.string.mail_already_registered)&#10;&#10;    LaunchedEffect(errorMessage) {&#10;        errorMessage?.let { error -&gt;&#10;            val message = when (error) {&#10;                &quot;1&quot; -&gt; credentialsError&#10;                &quot;400&quot; -&gt; credentialsError&#10;                &quot;401&quot; -&gt; credentialsError&#10;                &quot;409&quot; -&gt; mailError&#10;                &quot;2&quot; -&gt; codeError&#10;                else -&gt; connectionError&#10;            }&#10;&#10;            snackbarHostState.showSnackbar(message)&#10;&#10;            authViewModel.clearError()&#10;        }&#10;    }&#10;&#10;    Scaffold(&#10;        modifier = Modifier.fillMaxSize(),&#10;        snackbarHost = { SnackbarHost(hostState = snackbarHostState) }&#10;    ) { innerPadding -&gt;&#10;        Box(modifier = Modifier.padding(innerPadding)) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(horizontal = 32.dp, vertical = 24.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.Center&#10;            ) {&#10;&#10;                Text(&#10;                    text = &quot;Listi&quot;,&#10;                    style = MaterialTheme.typography.titleMedium,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                Text(&#10;                    text = stringResource(R.string.register),&#10;                    style = MaterialTheme.typography.bodyLarge,&#10;                    modifier = Modifier.padding(bottom = 32.dp)&#10;                )&#10;&#10;                OutlinedTextField(&#10;                    value = firstName,&#10;                    onValueChange = { firstName = it },&#10;                    label = { Text(stringResource(R.string.name)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = ImageVector.vectorResource(R.drawable.person_foreground),&#10;                            contentDescription = &quot;Nombre&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Text),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = lastName,&#10;                    onValueChange = { lastName = it },&#10;                    label = { Text(stringResource(R.string.profile_surname_label)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            ImageVector.vectorResource(R.drawable.badge),&#10;                            contentDescription = &quot;Apellido&quot;&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Text),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = email,&#10;                    onValueChange = { email = it },&#10;                    label = { Text(&quot;Email&quot;) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = ImageVector.vectorResource(R.drawable.mail_foreground),&#10;                            contentDescription = &quot;Email&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Email),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = password,&#10;                    onValueChange = { password = it },&#10;                    label = { Text(stringResource(R.string.password)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = ImageVector.vectorResource(R.drawable.lock_foreground),&#10;                            contentDescription = &quot;Con&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    },&#10;                    visualTransformation = PasswordVisualTransformation(),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(12.dp))&#10;&#10;                OutlinedTextField(&#10;                    value = repeatPassword,&#10;                    onValueChange = { repeatPassword = it },&#10;                    label = { Text(stringResource(R.string.profile_confirm_password)) },&#10;                    singleLine = true,&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            ImageVector.vectorResource(R.drawable.lock_reset),&#10;                            contentDescription = &quot;Repetir contraseña&quot;&#10;                        )&#10;                    },&#10;                    visualTransformation = PasswordVisualTransformation(),&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(24.dp))&#10;&#10;                // Notificar que las que son invalidas&#10;                if(password != repeatPassword)&#10;                    Text(&#10;                        text = stringResource(R.string.same_password),&#10;                        color = MaterialTheme.colorScheme.error,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                else if(password.length &lt; 6)&#10;                    Text(&#10;                        text = stringResource(R.string.password_length),&#10;                        color = MaterialTheme.colorScheme.error,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;&#10;                val isCreateEnabled =&#10;                    firstName.isNotBlank() &amp;&amp; lastName.isNotBlank() &amp;&amp; email.isNotBlank() &amp;&amp; password.isNotBlank() &amp;&amp; (password == repeatPassword)&#10;&#10;                Button(&#10;                    onClick = {&#10;                        if (isCreateEnabled) {&#10;                            viewModel.register(firstName, lastName, email, password)&#10;                        }&#10;                    },&#10;                    enabled = isCreateEnabled,&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = if (isCreateEnabled) MaterialTheme.colorScheme.tertiaryFixed else MaterialTheme.colorScheme.primary,&#10;                        contentColor = if (isCreateEnabled) MaterialTheme.colorScheme.onSecondary else MaterialTheme.colorScheme.primary&#10;                    ),&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(50.dp),&#10;                    shape = MaterialTheme.shapes.medium&#10;                ) {&#10;                    if (isLoading) {&#10;                        Box(&#10;                            Modifier.fillMaxSize(),&#10;                            Alignment.Center&#10;                        ) { CircularProgressIndicator() }&#10;                    } else {&#10;                        Text(&#10;                            text = stringResource(R.string.signin),&#10;                            color = if (isCreateEnabled) MaterialTheme.colorScheme.onPrimary else MaterialTheme.colorScheme.onSurface,&#10;                            style = MaterialTheme.typography.bodyLarge,&#10;                            fontWeight = FontWeight.SemiBold&#10;                        )&#10;                    }&#10;                }&#10;&#10;                TextButton(onClick = { goLogin?.invoke() }) {&#10;                    Text(&#10;                        text = stringResource(R.string.got_an_acount),&#10;                        color = MaterialTheme.colorScheme.surfaceVariant,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                TextButton(onClick = { goVerifyAccount?.invoke() }) {&#10;                    Text(&#10;                        text = stringResource(R.string.verify),&#10;                        color = MaterialTheme.colorScheme.surfaceVariant,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/listi/ui/types/UpdateUserRequest.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/listi/ui/types/UpdateUserRequest.kt" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.example.listi.ui.types&#10;&#10;// This file is intentionally left as a reference. The UpdateUserRequest type has been moved to `Auth.kt` to keep all user-related requests together." />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>